# Netlify configuration — Fast Education (static frontend + API proxy)
# Set BACKEND_URL in Netlify → Site settings → Environment variables (e.g. https://your-django.railway.app)

[build]
  command = "bash scripts/build_netlify.sh"
  publish = "public"
  functions = "netlify/functions"

[build.environment]
  NODE_VERSION = "18"

# Proxy /api/* to Django backend (BACKEND_URL must be set)
[[redirects]]
  from = "/api/*"
  to = "/.netlify/functions/api-proxy?path=:splat"
  status = 200
  force = true

# SPA fallback (in public/_redirects): /* -> /index.html 200
