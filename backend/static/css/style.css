/* ═══════════════════════════════════════════════
   Fast Education — Modern Premium UI
   Fonts: Space Grotesk (headings) + DM Sans (body)
   ═══════════════════════════════════════════════ */

:root {
  --navy: #0F172A;
  --navy-mid: #1E293B;
  --navy-light: #334155;
  --accent: #6366F1;
  --accent-light: #818CF8;
  --accent-dim: rgba(99,102,241,.08);
  --gold: #F59E0B;
  --gold-light: #FCD34D;
  --teal: #14B8A6;
  --cream: #F8FAFC;
  --white: #FFFFFF;
  --g50: #F8FAFC; --g100: #F1F5F9; --g200: #E2E8F0;
  --g300: #CBD5E1; --g400: #94A3B8; --g500: #64748B;
  --g600: #475569; --g700: #334155; --g800: #1E293B; --g900: #0F172A;
  --green: #10B981; --green-bg: #ECFDF5;
  --red: #EF4444; --red-bg: #FEF2F2;
  --blue: #3B82F6; --blue-bg: #EFF6FF;
  --orange: #F59E0B; --orange-bg: #FFFBEB;
  --shadow-sm: 0 1px 2px rgba(0,0,0,.05);
  --shadow: 0 1px 3px rgba(0,0,0,.06), 0 1px 2px rgba(0,0,0,.04);
  --shadow-md: 0 4px 6px -1px rgba(0,0,0,.07), 0 2px 4px -2px rgba(0,0,0,.05);
  --shadow-lg: 0 10px 15px -3px rgba(0,0,0,.08), 0 4px 6px -4px rgba(0,0,0,.05);
  --shadow-xl: 0 20px 25px -5px rgba(0,0,0,.08), 0 8px 10px -6px rgba(0,0,0,.04);
  --shadow-2xl: 0 25px 50px -12px rgba(0,0,0,.15);
  --r: 12px; --r-sm: 8px; --r-lg: 16px; --r-xl: 20px; --r-2xl: 24px;
  --font-head: 'Space Grotesk', -apple-system, sans-serif;
  --font-body: 'DM Sans', -apple-system, sans-serif;
  --font-mono: 'JetBrains Mono', monospace;
}

*, *::before, *::after { margin: 0; padding: 0; box-sizing: border-box; }
html { font-size: 16px; scroll-behavior: smooth; }
body {
  font-family: var(--font-body);
  background: var(--cream);
  color: var(--g800);
  min-height: 100vh;
  -webkit-font-smoothing: antialiased;
}

.scene { display: none; min-height: 100vh; }
.scene.active { display: flex; }
#v-levels.active, #v-months.active, #v-results.active { display: block; }

@keyframes fadeUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: none; } }
@keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
@keyframes scaleIn { from { opacity: 0; transform: scale(.96); } to { opacity: 1; transform: none; } }
@keyframes float { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-12px); } }
@keyframes pulse { 0%, 100% { opacity: .6; } 50% { opacity: 1; } }

/* Russian text styling */
.ru, .sub-ru { color: var(--g400); font-weight: 400; font-size: .85em; }
.sub-ru { font-family: var(--font-body); }
.form-sep {
  display: flex; align-items: center; gap: 14px;
  margin: 20px 0 14px; color: var(--g400); font-size: 12px; font-weight: 600;
  text-transform: uppercase; letter-spacing: .8px;
}
.form-sep::before, .form-sep::after {
  content: ''; flex: 1; height: 1px; background: var(--g200);
}
.form-sep .ru { text-transform: none; letter-spacing: 0; }

/* ════════════════════════════════
   1. REGISTRATION PAGE
   ════════════════════════════════ */
.register-page { display: flex; width: 100%; min-height: 100vh; }

.register-left {
  flex: 0 0 46%; display: flex; align-items: center; justify-content: center;
  background: linear-gradient(135deg, #0F172A 0%, #1E1B4B 50%, #312E81 100%);
  padding: 60px; position: relative; overflow: hidden;
}

.reg-bg-shapes { position: absolute; inset: 0; pointer-events: none; }
.shape {
  position: absolute; border-radius: 50%;
  background: linear-gradient(135deg, rgba(99,102,241,.15), rgba(139,92,246,.1));
  filter: blur(1px);
}
.shape-1 {
  width: 300px; height: 300px; top: -80px; right: -60px;
  animation: float 8s ease-in-out infinite;
}
.shape-2 {
  width: 200px; height: 200px; bottom: 10%; left: -40px;
  background: linear-gradient(135deg, rgba(245,158,11,.1), rgba(251,146,60,.08));
  animation: float 10s ease-in-out infinite 2s;
}
.shape-3 {
  width: 120px; height: 120px; top: 40%; right: 15%;
  background: linear-gradient(135deg, rgba(20,184,166,.12), rgba(52,211,153,.08));
  animation: float 6s ease-in-out infinite 4s;
}

.brand-block { position: relative; text-align: left; color: #fff; max-width: 380px; }

.brand-logo { margin-bottom: 36px; }
.logo-img {
  width: 80px; height: 80px; border-radius: var(--r-lg);
  object-fit: contain;
  filter: drop-shadow(0 4px 12px rgba(0,0,0,.25));
}

.brand-name {
  font-family: var(--font-head); font-size: 52px; font-weight: 700;
  line-height: 1.05; letter-spacing: -.03em; margin-bottom: 16px;
  background: linear-gradient(135deg, #fff 30%, rgba(255,255,255,.7));
  -webkit-background-clip: text; -webkit-text-fill-color: transparent;
  background-clip: text;
}
.brand-tagline {
  font-size: 15px; color: rgba(255,255,255,.5); font-weight: 500;
  letter-spacing: .02em; line-height: 1.6;
}

.register-right {
  flex: 1; display: flex; align-items: center; justify-content: center;
  padding: 48px; background: var(--white);
}
.register-card {
  width: 100%; max-width: 440px;
  animation: fadeUp .5s cubic-bezier(.22,1,.36,1);
}
.register-card h2 {
  font-family: var(--font-head); font-size: 26px; font-weight: 700;
  color: var(--g900); margin-bottom: 8px; letter-spacing: -.02em;
}
.form-hint { color: var(--g500); font-size: 14px; line-height: 1.7; margin-bottom: 28px; }

.form-row { display: grid; grid-template-columns: 1fr 1fr; gap: 14px; margin-bottom: 20px; }
.fg label {
  display: block; font-size: 13px; font-weight: 600; color: var(--g700);
  margin-bottom: 6px;
}
.fg input {
  width: 100%; padding: 12px 16px; font-size: 14px; font-family: var(--font-body);
  border: 1.5px solid var(--g200); border-radius: var(--r);
  background: var(--g50); color: var(--g900);
  transition: all .2s;
}
.fg input:focus {
  outline: none; border-color: var(--accent);
  box-shadow: 0 0 0 3px rgba(99,102,241,.1);
  background: var(--white);
}
.fg input::placeholder { color: var(--g400); }

/* ── Buttons ── */
.btn-primary {
  display: inline-flex; align-items: center; justify-content: center; gap: 10px;
  width: 100%; padding: 14px 28px;
  background: var(--navy); color: #fff;
  border: none; border-radius: var(--r); font-size: 15px; font-weight: 600;
  font-family: var(--font-body); cursor: pointer;
  transition: all .2s; margin-top: 8px;
}
.btn-primary:hover { background: var(--navy-mid); transform: translateY(-1px); box-shadow: var(--shadow-lg); }
.btn-primary:disabled { opacity: .35; cursor: not-allowed; transform: none !important; box-shadow: none; }
.btn-primary svg { transition: transform .2s; }
.btn-primary:hover svg { transform: translateX(3px); }

.btn-ghost {
  display: inline-flex; align-items: center; justify-content: center;
  padding: 12px 24px;
  background: var(--white); color: var(--g700);
  border: 1.5px solid var(--g200); border-radius: var(--r);
  font-size: 14px; font-weight: 600; font-family: var(--font-body); cursor: pointer;
  transition: all .2s;
}
.btn-ghost:hover { border-color: var(--g300); color: var(--navy); background: var(--g50); }
.btn-ghost:disabled { opacity: .3; cursor: not-allowed; }

.btn-submit {
  display: inline-flex; align-items: center; justify-content: center;
  padding: 14px 36px;
  background: var(--green); color: #fff;
  border: none; border-radius: var(--r); font-size: 15px; font-weight: 600;
  font-family: var(--font-body); cursor: pointer;
  transition: all .2s;
}
.btn-submit:hover { background: #059669; transform: translateY(-1px); }
.btn-submit:disabled { opacity: .35; cursor: not-allowed; transform: none !important; }

/* ════════════════════════════════
   2. TOP NAV
   ════════════════════════════════ */
.top-nav {
  display: flex; align-items: center; justify-content: space-between;
  padding: 16px 48px;
  background: var(--white);
  border-bottom: 1px solid var(--g200);
}
.nav-brand {
  font-family: var(--font-head); font-size: 20px; font-weight: 700;
  color: var(--g900); letter-spacing: -.02em;
}
.nav-user { font-size: 14px; color: var(--g500); font-weight: 500; }

/* ════════════════════════════════
   3. LEVELS PAGE — Image Cards
   ════════════════════════════════ */
.page-wrap {
  max-width: 1200px; margin: 0 auto; padding: 48px 32px 72px;
}
.page-head {
  text-align: center; margin-bottom: 48px;
  animation: fadeUp .4s cubic-bezier(.22,1,.36,1);
}
.page-head h1 {
  font-family: var(--font-head); font-size: 36px; font-weight: 700;
  color: var(--g900); margin-bottom: 10px; letter-spacing: -.03em;
}
.page-head p { font-size: 16px; color: var(--g500); line-height: 1.6; }

.levels-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(260px, 1fr));
  gap: 20px;
}

.level-card {
  background: var(--white);
  border-radius: var(--r-lg);
  overflow: hidden;
  cursor: pointer;
  transition: all .3s cubic-bezier(.22,1,.36,1);
  box-shadow: var(--shadow);
  animation: fadeUp .45s cubic-bezier(.22,1,.36,1) both;
  border: 1px solid var(--g200);
}
.level-card:hover {
  box-shadow: var(--shadow-xl);
  transform: translateY(-4px);
  border-color: var(--g300);
}

.lc-img {
  width: 100%; height: 160px;
  object-fit: cover; display: block;
  transition: transform .5s cubic-bezier(.22,1,.36,1);
}
.level-card:hover .lc-img { transform: scale(1.06); }

.lc-img-wrap {
  overflow: hidden; position: relative;
}
.lc-img-wrap::after {
  content: ''; position: absolute; bottom: 0; left: 0; right: 0; height: 50%;
  background: linear-gradient(transparent, rgba(0,0,0,.04));
}

.lc-badge {
  position: absolute; top: 12px; left: 12px; z-index: 2;
  font-size: 22px;
  background: rgba(255,255,255,.92); backdrop-filter: blur(8px);
  width: 42px; height: 42px; border-radius: var(--r);
  display: flex; align-items: center; justify-content: center;
  box-shadow: var(--shadow-md);
}

.lc-body { padding: 18px 20px 20px; }
.lc-name {
  font-family: var(--font-head); font-size: 18px; font-weight: 700;
  color: var(--g900); margin-bottom: 4px; letter-spacing: -.02em;
}
.lc-desc {
  font-size: 13px; color: var(--g500); line-height: 1.5;
  margin-bottom: 14px; min-height: 38px;
}
.lc-footer {
  display: flex; align-items: center; justify-content: space-between;
  padding-top: 14px; border-top: 1px solid var(--g100);
}
.lc-meta {
  font-size: 11px; color: var(--g400); font-weight: 700;
  text-transform: uppercase; letter-spacing: .8px;
}
.lc-arrow {
  width: 30px; height: 30px; border-radius: 50%;
  background: var(--g900); color: #fff;
  display: flex; align-items: center; justify-content: center;
  font-size: 13px; transition: all .2s;
}
.level-card:hover .lc-arrow { background: var(--accent); }

/* ════════════════════════════════
   4. MONTHS PAGE
   ════════════════════════════════ */
.back-link {
  display: inline-flex; align-items: center; gap: 8px;
  font-size: 14px; font-weight: 600; color: var(--g500);
  background: none; border: none; cursor: pointer;
  margin-bottom: 28px; padding: 8px 0; font-family: var(--font-body);
  transition: color .15s;
}
.back-link:hover { color: var(--g900); }

.month-header {
  display: flex; align-items: center; gap: 20px;
  margin-bottom: 36px;
  animation: fadeUp .4s cubic-bezier(.22,1,.36,1);
}
.month-icon {
  width: 64px; height: 64px; border-radius: var(--r-lg);
  display: flex; align-items: center; justify-content: center;
  font-size: 32px; flex-shrink: 0;
}
.month-header h1 {
  font-family: var(--font-head); font-size: 30px; font-weight: 700;
  color: var(--g900); margin-bottom: 2px; letter-spacing: -.02em;
}
.month-header p { font-size: 14px; color: var(--g500); }

.months-grid {
  display: grid; grid-template-columns: repeat(3, 1fr);
  gap: 20px;
}
.month-card {
  background: var(--white);
  border-radius: var(--r-lg);
  padding: 32px 24px;
  cursor: pointer;
  transition: all .3s cubic-bezier(.22,1,.36,1);
  animation: fadeUp .4s cubic-bezier(.22,1,.36,1) both;
  box-shadow: var(--shadow);
  border: 1px solid var(--g200);
  text-align: center;
}
.month-card:hover {
  box-shadow: var(--shadow-xl);
  transform: translateY(-4px);
  border-color: var(--accent);
}
.month-card .mc-num {
  font-family: var(--font-head); font-size: 48px; font-weight: 700;
  color: var(--g900); line-height: 1;
}
.month-card .mc-name {
  font-family: var(--font-head); font-size: 20px; font-weight: 600;
  color: var(--g700); margin: 8px 0 16px; letter-spacing: -.01em;
}
.month-card .mc-stats {
  display: flex; gap: 16px; justify-content: center;
  font-size: 13px; color: var(--g500);
}
.month-card .mc-stats b { color: var(--g900); font-weight: 700; }
.month-card .mc-btn {
  display: block; width: 100%; margin-top: 20px;
  padding: 12px; text-align: center;
  background: var(--g900); color: #fff;
  border-radius: var(--r); font-size: 14px; font-weight: 600;
  transition: background .2s;
}
.month-card:hover .mc-btn { background: var(--accent); }

/* ════════════════════════════════
   5. EXAM PAGE
   ════════════════════════════════ */
#v-exam.active { display: flex; flex-direction: column; padding: 0; }

.exam-bar {
  display: flex; align-items: center; justify-content: space-between;
  padding: 12px 32px;
  background: var(--white);
  border-bottom: 1px solid var(--g200);
  position: sticky; top: 0; z-index: 30;
}
.eb-left { display: flex; align-items: center; gap: 14px; }
.eb-brand { font-family: var(--font-head); font-size: 17px; font-weight: 700; color: var(--g900); }
.eb-badge {
  font-size: 11px; font-weight: 700; text-transform: uppercase;
  letter-spacing: .6px; padding: 4px 12px; border-radius: 20px;
  background: var(--accent-dim); color: var(--accent);
}
.eb-progress { flex: 1; max-width: 300px; margin: 0 24px; }
.eb-track { height: 4px; background: var(--g100); border-radius: 2px; overflow: hidden; }
.eb-fill { height: 100%; background: var(--accent); border-radius: 2px; transition: width .4s ease; width: 0; }
.eb-right { display: flex; align-items: center; gap: 16px; }
.eb-user { font-size: 13px; color: var(--g500); font-weight: 500; }
.eb-timer {
  font-family: var(--font-mono); font-size: 14px; font-weight: 500; color: var(--g900);
  background: var(--g50); padding: 6px 14px; border-radius: var(--r);
  border: 1px solid var(--g200);
}

.exam-stage {
  flex: 1; max-width: 760px; width: 100%; margin: 0 auto;
  padding: 32px 28px 28px;
}

.q-card {
  background: var(--white);
  border-radius: var(--r-lg); padding: 32px;
  margin-bottom: 20px; box-shadow: var(--shadow);
  min-height: 340px; border: 1px solid var(--g200);
  animation: fadeUp .3s cubic-bezier(.22,1,.36,1);
}
.q-top { display: flex; align-items: center; justify-content: space-between; margin-bottom: 18px; }
.q-tag {
  display: inline-block; font-size: 11px; font-weight: 700;
  text-transform: uppercase; letter-spacing: .8px;
  color: var(--accent); background: var(--accent-dim);
  padding: 5px 14px; border-radius: 20px;
}
.q-num { font-size: 12px; color: var(--g400); font-weight: 600; font-family: var(--font-mono); }
.q-inst { font-size: 14px; color: var(--g500); line-height: 1.6; margin-bottom: 8px; }
.q-title {
  font-family: var(--font-head); font-size: 20px; font-weight: 600;
  color: var(--g900); line-height: 1.6; margin-bottom: 24px;
  letter-spacing: -.01em;
}

.opts { display: flex; flex-direction: column; gap: 10px; }
.opt {
  display: flex; align-items: center; gap: 14px;
  padding: 14px 18px; border: 1.5px solid var(--g200);
  border-radius: var(--r); cursor: pointer;
  transition: all .15s; background: var(--white);
}
.opt:hover { border-color: var(--accent); background: rgba(99,102,241,.02); }
.opt.picked { border-color: var(--accent); background: rgba(99,102,241,.04); box-shadow: 0 0 0 3px rgba(99,102,241,.08); }
.opt input[type=radio] {
  width: 18px; height: 18px; accent-color: var(--accent);
  cursor: pointer; flex-shrink: 0;
}
.opt label {
  font-size: 15px; color: var(--g800); line-height: 1.5;
  cursor: pointer; flex: 1; font-weight: 500;
}

.t-source {
  background: var(--orange-bg); border-left: 3px solid var(--orange);
  padding: 20px 22px; border-radius: var(--r); margin-bottom: 14px;
}
.t-source p {
  font-size: 17px; font-weight: 500; color: #92400E;
  line-height: 1.6;
}

.v-word {
  text-align: center; padding: 32px;
  background: linear-gradient(135deg, rgba(99,102,241,.04), rgba(139,92,246,.06));
  border: 1.5px solid var(--g200); border-radius: var(--r); margin-bottom: 18px;
}
.v-word h3 {
  font-family: var(--font-head); font-size: 32px; font-weight: 700;
  color: var(--g900); text-transform: uppercase; letter-spacing: 3px;
}

textarea.ta {
  width: 100%; padding: 14px 16px;
  background: var(--g50); border: 1.5px solid var(--g200);
  border-radius: var(--r); color: var(--g800); font-size: 15px;
  font-family: var(--font-body); resize: vertical; line-height: 1.7;
  transition: all .2s;
}
textarea.ta:focus { outline: none; border-color: var(--accent); box-shadow: 0 0 0 3px rgba(99,102,241,.08); background: var(--white); }
textarea.ta::placeholder { color: var(--g400); }
textarea.ta.big { min-height: 180px; }

.wbar {
  display: flex; justify-content: flex-end; padding: 6px 2px;
  font-size: 12px; color: var(--g400);
}
.wbar b { color: var(--g900); margin: 0 3px; font-weight: 700; }

.nav-row { display: flex; align-items: center; justify-content: space-between; gap: 14px; }

.dots-bar {
  display: flex; flex-wrap: wrap; justify-content: center; gap: 5px;
  padding: 12px 24px 14px;
  background: var(--white);
  border-top: 1px solid var(--g200);
  position: sticky; bottom: 0; z-index: 20;
}
.dot {
  width: 34px; height: 34px; border-radius: var(--r-sm);
  background: var(--g50); border: 1.5px solid var(--g200);
  color: var(--g400); font-size: 12px; font-weight: 600;
  display: flex; align-items: center; justify-content: center;
  cursor: pointer; transition: all .15s; font-family: var(--font-mono);
}
.dot:hover { border-color: var(--accent); color: var(--accent); }
.dot.now { background: var(--accent); color: #fff; border-color: var(--accent); }
.dot.done { background: rgba(99,102,241,.06); color: var(--accent); border-color: rgba(99,102,241,.15); }

/* ════════════════════════════════
   6. RESULTS PAGE
   ════════════════════════════════ */
#v-results { padding: 48px 24px; }
.res-wrap {
  max-width: 700px; width: 100%; margin: 0 auto;
  animation: fadeUp .5s cubic-bezier(.22,1,.36,1);
}
.res-header { text-align: center; margin-bottom: 28px; }
.res-logo-img {
  width: 52px; height: 52px; border-radius: var(--r);
  object-fit: contain; margin-bottom: 16px;
}
.res-header h1 {
  font-family: var(--font-head); font-size: 30px; font-weight: 700;
  color: var(--g900); margin-bottom: 6px; letter-spacing: -.02em;
}
.res-header p { font-size: 14px; color: var(--g500); }

.score-card {
  display: flex; align-items: center; justify-content: center;
  gap: 44px; padding: 36px;
  background: var(--white);
  border-radius: var(--r-lg); box-shadow: var(--shadow-md);
  margin-bottom: 24px; border: 1px solid var(--g200);
}
.ring {
  width: 130px; height: 130px; border-radius: 50%;
  background: conic-gradient(var(--accent) var(--p, 0%), var(--g200) 0);
  display: flex; flex-direction: column; align-items: center; justify-content: center;
  position: relative;
}
.ring::before {
  content: ''; position: absolute; inset: 10px;
  background: var(--white); border-radius: 50%;
}
.ring-val, .ring-lbl { position: relative; z-index: 1; }
.ring-val { font-family: var(--font-head); font-size: 28px; font-weight: 700; color: var(--g900); }
.ring-lbl { font-size: 11px; color: var(--g400); text-transform: uppercase; letter-spacing: .8px; margin-top: 2px; }

.score-stats { display: flex; flex-direction: column; gap: 14px; }
.ss { display: flex; flex-direction: column; }
.ss b { font-size: 24px; font-weight: 700; color: var(--g900); font-family: var(--font-head); }
.ss small { font-size: 11px; color: var(--g500); text-transform: uppercase; letter-spacing: .6px; }

.res-actions { display: flex; gap: 12px; justify-content: center; margin-top: 20px; margin-bottom: 28px; }
.res-actions .btn-primary, .res-actions .btn-cert { width: auto; }

.rev-tabs {
  display: flex; flex-wrap: wrap; gap: 6px; margin-bottom: 16px; justify-content: center;
  position: sticky; top: 0; z-index: 10;
  background: var(--cream); padding: 12px 0 8px;
}
.rev-tab {
  padding: 10px 20px; border-radius: var(--r); font-size: 13px; font-weight: 600;
  cursor: pointer; border: 1.5px solid var(--g200); background: var(--white);
  color: var(--g600); transition: all .15s; font-family: var(--font-body);
  display: inline-flex; align-items: center; gap: 8px;
}
.rev-tab:hover { border-color: var(--accent); color: var(--accent); }
.rev-tab.active {
  background: var(--navy); color: #fff; border-color: var(--navy);
}
.rev-tab-score {
  font-family: var(--font-mono); font-size: 11px; font-weight: 500;
  opacity: .7;
}
.rev-tab.active .rev-tab-score { opacity: .85; }

#review-area { margin-bottom: 24px; }
.btn-cert {
  display: inline-flex; align-items: center; justify-content: center; gap: 6px;
  padding: 14px 28px;
  background: linear-gradient(135deg, #C9A84C, #E8D48B);
  color: #0F172A; border: none; border-radius: var(--r);
  font-size: 15px; font-weight: 700; font-family: var(--font-body);
  cursor: pointer; transition: all .2s; letter-spacing: .3px;
}
.btn-cert:hover { transform: translateY(-2px); box-shadow: 0 8px 24px rgba(201,168,76,.3); }

/* ════════════════════════════════
   7. REVIEW MODAL
   ════════════════════════════════ */
.modal {
  position: fixed; inset: 0; z-index: 100;
  background: rgba(15,23,42,.4); backdrop-filter: blur(8px);
  display: flex; align-items: center; justify-content: center; padding: 24px;
}
.modal[hidden] { display: none; }
.modal-box {
  background: var(--white); border-radius: var(--r-xl);
  width: 660px; max-width: 96vw; max-height: 85vh; overflow-y: auto;
  box-shadow: var(--shadow-2xl); border: 1px solid var(--g200);
  animation: scaleIn .25s cubic-bezier(.22,1,.36,1);
}
.modal-head {
  display: flex; align-items: center; justify-content: space-between;
  padding: 24px 28px 0;
}
.modal-head h2 { font-family: var(--font-head); font-size: 20px; font-weight: 700; color: var(--g900); }
.modal-x {
  background: none; border: none; font-size: 24px; color: var(--g400);
  cursor: pointer; padding: 4px 8px; border-radius: var(--r-sm);
  transition: all .12s;
}
.modal-x:hover { background: var(--g100); color: var(--g700); }
.modal-body { padding: 20px 28px 28px; }

.rev-item {
  background: var(--g50); border: 1px solid var(--g200);
  border-radius: var(--r); padding: 18px; margin-bottom: 10px;
}
.rev-item.correct { border-left: 3px solid var(--green); }
.rev-item.wrong { border-left: 3px solid var(--red); }
.rev-head { display: flex; align-items: center; gap: 10px; margin-bottom: 8px; }
.rev-icon {
  width: 24px; height: 24px; border-radius: 50%;
  display: flex; align-items: center; justify-content: center;
  font-size: 13px; font-weight: 700; flex-shrink: 0;
}
.rev-icon.ok { background: var(--green-bg); color: var(--green); }
.rev-icon.bad { background: var(--red-bg); color: var(--red); }
.rev-icon.na { background: var(--g100); color: var(--g400); }
.rev-q { font-size: 14px; font-weight: 600; color: var(--g800); line-height: 1.5; }
.rev-ans { font-size: 13px; color: var(--g600); margin: 3px 0; line-height: 1.5; }
.rev-ans b { margin-right: 4px; }
.rev-your { color: var(--red); font-weight: 600; }
.rev-ok { color: var(--green); font-weight: 600; }

/* ════════════════════════════════
   Section Complete Overlay
   ════════════════════════════════ */
.section-done-overlay {
  position: fixed; inset: 0; z-index: 50;
  background: rgba(15,23,42,.35); backdrop-filter: blur(6px);
  display: flex; align-items: center; justify-content: center;
}
.section-done-card {
  background: var(--white); border-radius: var(--r-xl);
  padding: 40px; text-align: center; max-width: 420px;
  box-shadow: var(--shadow-2xl);
  animation: scaleIn .3s cubic-bezier(.22,1,.36,1);
}
.section-done-card h2 {
  font-family: var(--font-head); font-size: 22px; color: var(--g900);
  margin-bottom: 6px;
}
.section-done-card p { font-size: 14px; color: var(--g500); margin-bottom: 20px; }
.sd-list { text-align: left; margin-bottom: 20px; }
.sd-item {
  display: flex; align-items: center; gap: 10px;
  padding: 10px 14px; border-radius: var(--r-sm);
  border: 1px solid var(--g200); margin-bottom: 6px;
  font-size: 14px; font-weight: 600; color: var(--g700);
}
.sd-item.done { background: var(--green-bg); border-color: rgba(16,185,129,.12); color: var(--green); }
.sd-item .sd-icon { width: 20px; text-align: center; }

/* ════════════════════════════════
   RESPONSIVE
   ════════════════════════════════ */
@media (max-width: 768px) {
  .register-page { flex-direction: column; }
  .register-left { flex: none; padding: 40px 24px 28px; }
  .brand-name { font-size: 36px; }
  .register-right { padding: 28px 20px; }
  .form-row { grid-template-columns: 1fr; }
  .top-nav { padding: 14px 20px; }
  .page-wrap { padding: 28px 16px 48px; }
  .page-head h1 { font-size: 26px; }
  .levels-grid { grid-template-columns: 1fr 1fr; gap: 14px; }
  .lc-img { height: 120px; }
  .months-grid { grid-template-columns: 1fr; }
  .month-header { flex-direction: column; text-align: center; }
  .exam-bar { padding: 10px 14px; flex-wrap: wrap; gap: 6px; }
  .eb-progress { max-width: 100%; order: 3; flex-basis: 100%; margin: 4px 0 0; }
  .exam-stage { padding: 18px 14px; }
  .q-card { padding: 22px 18px; }
  .score-card { flex-direction: column; gap: 20px; }
  .res-wrap { padding: 0 8px; }
}

/* ════════════════════════════════
   AI DETECTION INDICATORS
   ════════════════════════════════ */
.ai-indicator {
  display: flex; align-items: center; gap: 8px; flex-wrap: wrap;
  margin-top: 10px; padding: 10px 14px;
  border-radius: var(--r); font-size: 13px; font-weight: 600;
  animation: fadeIn .3s;
}
.ai-indicator .ai-icon { font-size: 16px; }
.ai-indicator .ai-detail { font-weight: 400; font-size: 12px; color: inherit; opacity: .8; width: 100%; margin-top: 2px; }
.ai-low { background: var(--green-bg); color: #065F46; border: 1px solid rgba(16,185,129,.15); }
.ai-mid { background: #FEF3C7; color: #92400E; border: 1px solid rgba(245,158,11,.2); }
.ai-high { background: var(--red-bg); color: #991B1B; border: 1px solid rgba(239,68,68,.15); }

.ai-badge {
  display: inline-block; margin-top: 8px; padding: 6px 12px;
  border-radius: var(--r-sm); font-size: 12px; font-weight: 700;
}
.ai-badge.ai-mid { background: #FEF3C7; color: #92400E; }
.ai-badge.ai-high { background: var(--red-bg); color: #991B1B; }

@media print {
  .exam-bar, .dots-bar, .nav-row, .res-actions, .top-nav { display: none !important; }
  body { background: #fff; }
  .q-card, .score-card { box-shadow: none; border: 1px solid #ddd; }
}
